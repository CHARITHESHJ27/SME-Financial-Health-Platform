#!/usr/bin/env python3\n\"\"\"Simple test script to verify core functionality\"\"\"\n\nimport sys\nimport os\nsys.path.append(os.path.join(os.path.dirname(__file__), 'backend', 'app'))\n\ndef test_financial_engine():\n    \"\"\"Test financial engine calculations\"\"\"\n    try:\n        from core.financial_engine import FinancialAnalyzer\n        \n        analyzer = FinancialAnalyzer()\n        test_data = {\n            'revenue': 1000000,\n            'total_expenses': 800000,\n            'current_assets': 500000,\n            'current_liabilities': 300000,\n            'total_assets': 1200000,\n            'total_debt': 400000,\n            'revenue_growth_rate': 0.15\n        }\n        \n        ratios = analyzer.calculate_ratios(test_data)\n        assert 'current_ratio' in ratios\n        assert 'profit_margin' in ratios\n        print(\"âœ“ Financial engine test passed\")\n        return True\n    except Exception as e:\n        print(f\"âœ— Financial engine test failed: {e}\")\n        return False\n\ndef test_credit_scorer():\n    \"\"\"Test credit scoring\"\"\"\n    try:\n        from core.scoring import CreditScorer\n        from core.financial_engine import FinancialAnalyzer\n        \n        scorer = CreditScorer()\n        analyzer = FinancialAnalyzer()\n        \n        test_data = {\n            'industry': 'services',\n            'revenue': 1000000,\n            'total_expenses': 800000,\n            'current_assets': 500000,\n            'current_liabilities': 300000,\n            'total_assets': 1200000,\n            'total_debt': 400000\n        }\n        \n        ratios = analyzer.calculate_ratios(test_data)\n        score = scorer.calculate_credit_score(test_data, ratios)\n        \n        assert 0 <= score <= 100\n        print(f\"âœ“ Credit scorer test passed (score: {score:.1f})\")\n        return True\n    except Exception as e:\n        print(f\"âœ— Credit scorer test failed: {e}\")\n        return False\n\ndef test_validation_service():\n    \"\"\"Test validation service\"\"\"\n    try:\n        from services.validation_service import ValidationService\n        from models.requests import CompanyCreateRequest, FinancialDataRequest\n        \n        validator = ValidationService()\n        \n        # Test valid company request\n        company_request = CompanyCreateRequest(\n            name=\"Test Company\",\n            industry=\"services\",\n            gst_number=\"12ABCDE1234F1Z5\"\n        )\n        \n        validator.validate_company_creation(company_request)\n        \n        # Test valid financial data\n        financial_request = FinancialDataRequest(\n            revenue=1000000,\n            total_expenses=800000,\n            current_assets=500000,\n            current_liabilities=300000,\n            total_assets=1200000,\n            total_debt=400000\n        )\n        \n        validator.validate_financial_data(financial_request)\n        \n        print(\"âœ“ Validation service test passed\")\n        return True\n    except Exception as e:\n        print(f\"âœ— Validation service test failed: {e}\")\n        return False\n\ndef main():\n    \"\"\"Run all tests\"\"\"\n    print(\"Running SME Financial Health Platform Tests...\\n\")\n    \n    tests = [\n        test_financial_engine,\n        test_credit_scorer,\n        test_validation_service\n    ]\n    \n    passed = 0\n    total = len(tests)\n    \n    for test in tests:\n        if test():\n            passed += 1\n        print()\n    \n    print(f\"Results: {passed}/{total} tests passed\")\n    \n    if passed == total:\n        print(\"ðŸŽ‰ All tests passed! Platform is ready for demo.\")\n        return 0\n    else:\n        print(\"âŒ Some tests failed. Please check the issues above.\")\n        return 1\n\nif __name__ == \"__main__\":\n    sys.exit(main())